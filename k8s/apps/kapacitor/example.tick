// バッチタスクの定義
var data = batch
    |query('SELECT rssi FROM "source-db"."source-rp"."mqtt_consumer"')
        .period(10s)
        .every(10s)
        .groupBy(time(1m))


// 処理したデータをdestinationに書き込む
data
    |influxDBOut()
        .database('destination-db')
        .retentionPolicy('destination-rp')
        .measurement('new-measurement')

data
    |log()
